import{d as N,ad as k,W as y,a4 as C,am as S,an as T,b as t,g,a as e,h as w,t as r,s as I,k as n,V as i,n as d,e as f,af as R,ag as L,aj as B,ah as x,a1 as O,a2 as b,o as a,ae as A}from"./index-SNRB0buG.js";import{u as j,l as M,i as V,f as Y,d as $}from"./component.vue_vue_type_script_setup_true_lang-BD4ieaaH.js";const z={key:0},J={key:1},P={class:"absolute top-0 -z-50 h-full w-full"},D=["src","alt"],Z={class:"flex flex-row justify-between"},Q=N({name:"PointsEvents",__name:"points-events",setup(q){const m=k(A),o=y(!1),v=async s=>{o.value=!0;try{const c=await(await fetch(s)).json();Y(c)}catch{O({title:"赛事规则加载失败",description:"请检查网络连接或稍后再试",variant:"destructive",action:b($,{altText:"刷新页面",onClick:()=>window.location.reload()},{default:()=>"刷新页面"})})}finally{o.value=!1}},l=j(),h=S(),p=T();return C(async()=>{const{url:s}=h.query;typeof s=="string"?await v(s):p.replace({path:"/points"})}),(s,u)=>{const _=i("EventsBanner"),c=i("EventsChallenger"),E=i("EventsController");return a(),t("div",{class:d(e(f)("aks-points size-full"))},[e(m)?(a(),t("div",z,"不支持移动端")):o.value?(a(),t("div",J,"加载中")):(a(),g(e(V),{key:2,class:"h-full"},{default:w(()=>[r("div",P,[e(l).rulesJSON.background?(a(),t("img",{key:0,class:"h-full w-full object-cover",src:e(l).rulesJSON.background,alt:`${e(l).rulesJSON.name} 赛事背景图`},null,8,D)):I("",!0)]),r("div",{class:d(e(f)("mt-14 h-full",e(R),e(L),e(B),e(x)))},[n(_),r("div",Z,[n(c),n(E)]),n(e(M),{class:"md:columns-4 xl:columns-5"})],2)]),_:1}))],2)}}});export{Q as default};
