import{d as N,C,G as k,W as y,an as I,ao as S,b as t,g as T,a as e,h as w,s as r,q as R,j as o,aa as i,n as d,e as f,ah as g,ai as B,ak as L,aj as x,T as O,U as b,o as a,M as j}from"./index-B_Xfg7SQ.js";import{u as A,p as M,m as D,j as P,h as $}from"./component.vue_vue_type_script_setup_true_lang-D-UfNFCQ.js";const z={key:0},G={key:1},J={class:"absolute top-0 -z-50 h-full w-full"},V=["src","alt"],Y={class:"flex flex-row justify-between"},Q=N({name:"PointsEvents",__name:"points-events",setup(q){const m=C(j),n=k(!1),v=async s=>{n.value=!0;try{const c=await(await fetch(s)).json();P(c)}catch{O({title:"赛事规则加载失败",description:"请检查网络连接或稍后再试",variant:"destructive",action:b($,{altText:"刷新页面",onClick:()=>window.location.reload()},{default:()=>"刷新页面"})})}finally{n.value=!1}},l=A(),h=I(),p=S();return y(async()=>{const{url:s}=h.query;typeof s=="string"?await v(s):p.replace({path:"/points"})}),(s,u)=>{const _=i("EventsBanner"),c=i("EventsChallenger"),E=i("EventsController");return a(),t("div",{class:d(e(f)("aks-points size-full"))},[e(m)?(a(),t("div",z,"不支持移动端")):n.value?(a(),t("div",G,"加载中")):(a(),T(e(D),{key:2,class:"h-full"},{default:w(()=>[r("div",J,[e(l).rulesJSON.background?(a(),t("img",{key:0,class:"h-full w-full object-cover",src:e(l).rulesJSON.background,alt:`${e(l).rulesJSON.name} 赛事背景图`},null,8,V)):R("",!0)]),r("div",{class:d(e(f)("mt-14 h-full",e(g),e(B),e(L),e(x)))},[o(_),r("div",Y,[o(c),o(E)]),o(e(M),{class:"md:columns-4 xl:columns-5"})],2)]),_:1}))],2)}}});export{Q as default};
